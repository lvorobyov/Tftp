@startuml
start
fork
repeat
  :receive dgram;
  :sent answer;
repeat while (active)
fork again
:listen;
repeat
  :select;
  if (socket type) then (server)
    :accept;
  else (client)
    :receive data;
    :write data;
  endif
repeat while (active)
end fork
stop
@enduml